# ============================================================================
# Natural Language SQL Engine - Environment Configuration
# ============================================================================
# Copy this file to .env and update values for your environment

# ============================================================================
# Application Configuration
# ============================================================================

# Application title shown in API docs and logs
API_TITLE=Natural Language SQL Engine

# API version for documentation
API_VERSION=1.0.0

# Enable debug mode (true/false) - ALWAYS false in production
# Debug mode shows detailed error messages and stack traces
DEBUG=false

# Environment identifier (development/staging/production)
# Used for conditional logging and feature flags
ENVIRONMENT=production

# ============================================================================
# API Server Configuration
# ============================================================================

# Host to bind the server to
# 0.0.0.0 = all network interfaces (recommended for Docker)
# 127.0.0.1 = localhost only (more secure for local development)
HOST=0.0.0.0

# Port for the API server
# Default: 8000, change if port is already in use
PORT=8000

# Enable hot-reload during development (true/false)
# ALWAYS false in production for stability
RELOAD=false

# ============================================================================
# Ollama AI Configuration
# ============================================================================

# Ollama AI model to use for SQL generation
# Options: llama3.2 (default, fast), codellama (complex queries),
#          llama3.1 (most accurate), mistral (balanced)
# Model must be pulled first: docker exec -it nlsql-ollama ollama pull <model>
OLLAMA_MODEL=llama3.2

# Temperature for AI responses (0.0 to 2.0)
# Lower values (0.0-0.3) = more deterministic, consistent SQL
# Higher values (0.7-2.0) = more creative, varied SQL
# Recommended: 0.1 for production use
OLLAMA_TEMPERATURE=0.1

# URL of the Ollama service
# Default: http://localhost:11434 (local Ollama instance)
# For remote Ollama: http://your-server:11434
OLLAMA_BASE_URL=http://localhost:11434

# ============================================================================
# Security & Query Limits
# ============================================================================

# Maximum number of rows returned from any query
# Prevents memory exhaustion from large result sets
# Recommended: 1000-10000 depending on your needs
MAX_QUERY_RESULTS=1000

# Default LIMIT added to SELECT queries without explicit LIMIT
# Prevents accidentally fetching entire tables
# Recommended: 100-1000
DEFAULT_QUERY_LIMIT=100

# Maximum time (in seconds) a query can run before being terminated
# Prevents long-running queries from blocking resources
# Recommended: 30-60 seconds
QUERY_TIMEOUT_SECONDS=30

# ============================================================================
# Caching Configuration
# ============================================================================

# Enable in-memory caching of database schemas (true/false)
# Significantly improves performance by avoiding repeated schema queries
# Recommended: true
ENABLE_SCHEMA_CACHE=true

# Time-to-live for schema cache in seconds
# 3600 = 1 hour (schema changes are infrequent)
# Set lower if your schema changes frequently
SCHEMA_CACHE_TTL_SECONDS=3600

# ============================================================================
# Logging Configuration
# ============================================================================

# Logging level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
# DEBUG: Very verbose, all operations logged
# INFO: Standard operations (recommended for production)
# WARNING: Only warnings and errors
# ERROR: Only errors and critical issues
LOG_LEVEL=INFO

# ============================================================================
# CORS (Cross-Origin Resource Sharing)
# ============================================================================

# Allowed origins for CORS requests
# Format: JSON array of URLs
# Development: ["http://localhost:3000"]
# Production: ["https://yourdomain.com", "https://www.yourdomain.com"]
# NEVER use ["*"] in production - specify exact domains
CORS_ORIGINS=["http://localhost:3000"]

# Allow credentials (cookies, authorization headers) in CORS requests
# Required if frontend needs to send authentication tokens
CORS_ALLOW_CREDENTIALS=true
